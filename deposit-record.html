<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0,viewport-fit=cover " />
    <title>cua</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/slick-theme.css">

</head>

<body>
    <div class="layout-main inner-bg">
        <!-- 高级筛选  start-->
        <div id="show" class="popup" style="display: none;">
            <div class="popup-mask">
                <div class="input-popup">
                    <div class="input-popup__header">
                        <div class="input-popup__header__top">
                            <div class="header-title">
                                <div class="title-text">高级筛选</div>
                                <div class="sub-text">仅限查询近3个月的资料</div>
                            </div>
                        </div>
                    </div>
                    <div class="input-popup__body">
                        <div class="form">
                            <div class="form__body">
                                <div class="cell-list">
                                    <div class="com-cell">
                                        <div class="com-cell__form">
                                            <div class="form-title">
                                                <p class="form-title__text">起始日期</p>
                                            </div>
                                            <div class="form-group">
                                                <label class="el-text">
                                                    <p>2020-11-30 00:00</p>
                                                </label>
                                                <a href="javascript:void(0);"
                                                    class="btn btn-secondary rounded-pill btn-ripple btn-event">
                                                    <span>选择时间</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="com-cell">
                                        <div class="com-cell__form">
                                            <div class="form-title">
                                                <p class="form-title__text">截止日期</p>
                                            </div>
                                            <div class="form-group">
                                                <label class="el-text">
                                                    <p>2020-11-30 00:00</p>
                                                </label>
                                                <a href="javascript:void(0);"
                                                    class="btn btn-secondary rounded-pill btn-ripple btn-event">
                                                    <span>选择时间</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="com-cell">
                                        <div class="com-cell__form">
                                            <div class="form-title">
                                                <p class="form-title__text">类型</p>
                                            </div>
                                            <div class="form-select">
                                                <label class="el-select">
                                                    <input placeholder="項目" readonly="readonly" />
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="btn-tab">
                            <a class="btn-tab__item btn-tab__item--active" href="javascript:void(0);">
                                <span class="btn-tab__item__text">本日</span>
                            </a>
                            <a class="btn-tab__item" href="javascript:void(0);">
                                <span class="btn-tab__item__text">本周</span>
                            </a>
                            <a class="btn-tab__item" href="javascript:void(0);">
                                <span class="btn-tab__item__text">本月</span>
                            </a>
                        </div>
                    </div>

                    <div class="input-popup__footer">
                        <div class="row">
                            <div class="col-50">
                                <a href="javascript:void(0);" class="btn btn-cancel rounded-pill btn-ripple"
                                    onclick="showPopup();">
                                    取消
                                </a>
                            </div>
                            <div class="col-50">
                                <a href="javascript:void(0);" class="btn btn-primary rounded-pill btn-ripple"
                                    onclick="showPopup();">
                                    确定
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 高级筛选  end-->

        <div class="nav glow-bg">
            <div class="nav__left">
                <a class="btn-return" href="javascript:history.go(-1);">
                    <div class="img"></div>
                </a>
            </div>
            <div class="nav__logo">
                <span class="logo-text">外接馆金额</span>
            </div>
            <div class="nav__right">
                <a href="javascript:void(0)" class="filter" onclick="showPopup()">
                    <span class="filter__text">筛选</span>
                    <div class="filter__icon"></div>
                </a>
            </div>
        </div>

        <div class="layout-content">
            <div class="com-inner">
                <div class="mywallet-filter">
                    <div class="mywallet-select">
                        <div class="mywallet-select__title">
                            <select class="mywallet-select__sel">
                                <option value="deposit">公司入款</option>
                                <option value="webdeposit">在线入款</option>
                                <option value="mandeposit">人工入款</option>
                                <option value="promo">优惠</option>
                            </select>
                        </div>
                    </div>
                    <div class="btn-tab">
                        <a class="btn-tab__item btn-tab__item--active" href="javascript:void(0);"
                            onclick="openCity(event, 'tab1')">
                            <span class="btn-tab__item__text">本日</span>
                        </a>
                        <a class="btn-tab__item btn-tab__item--disabled" href="javascript:void(0);"
                            onclick="openCity(event, 'tab2')">
                            <span class="btn-tab__item__text">本周</span>
                        </a>
                        <a class="btn-tab__item" href="javascript:void(0);" onclick="openCity(event, 'tab3')">
                            <span class="btn-tab__item__text">本月</span>
                        </a>
                    </div>
                </div>
                <div id="tab1" class="com-inner__content">
                    <!-- inner-content -->
                    <div class="mywallet-range">
                        查询时间：2020年07月28日00:00~2020年07月28日23:59
                    </div>
                    <div class="record-cell">
                        <div class="record-cell__item" style="--animation-order: 1">
                            <div class="record-cell__content">
                                <div class="record-header">
                                    <div class="record-header__lf">
                                        <h4 class="record-header-title">DG真人</h4>
                                    </div>
                                    <div class="record-header__rt">
                                        <h4 class="record-header-text">2020年 3月11日 09:52:29</h4>
                                    </div>
                                </div>
                                <h3 class="record-title" data-target="collapse1">
                                    <span class="record-title__text">
                                        <span class="record-title">充值金额</span>
                                        <span class="record-money">300.00</span>
                                        <span>元</span>
                                    </span>
                                    <div class="badge badge--success">
                                        <div class="badge__text">
                                            充值成功
                                        </div>
                                    </div>
                                </h3>
                                <div id="collapse1" class="record-description">
                                    <div class="record-detail">
                                        <!-- 成功才會出現入款前後 -->
                                        <div class="deposit-details">
                                            <div class="deposit-details__col">
                                                <span class="deposit-details__col__title">入款前</span>
                                                <span class="deposit-details__col__money">1,200.00</span>
                                                <span>元</span>
                                            </div>
                                            <div class="deposit-details__col">
                                                <span class="deposit-details__col__title">入款后</span>
                                                <span class="deposit-details__col__money">1,500.00</span>
                                                <span>元</span>
                                            </div>
                                        </div>
                                        <div class="method">
                                            <h5 class="method__title">交易方式</h5>
                                            <p class="method__content">支付宝面对面扫码</p>
                                        </div>
                                        <div class="card-number">
                                            <h5 class="card-number__title">充值卡号：</h5>
                                            <p class="card-number__content">1069******30089</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="record-arrow">
                                    <div class="alert alert-warning">
                                        <div class="alert__img">
                                            <div class="alert__img__icon"></div>
                                        </div>
                                        <div class="alert__text">
                                            如您遇到任何问题，请与客服联系
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="record-cell__item" style="--animation-order: 2">
                            <div class="record-cell__content">
                                <div class="record-header">
                                    <div class="record-header__lf">
                                        <h4 class="record-header-title">DG真人</h4>
                                    </div>
                                    <div class="record-header__rt">
                                        <h4 class="record-header-text">2020年 3月11日 09:52:29</h4>
                                    </div>
                                </div>
                                <h3 class="record-title" data-target="collapse2">
                                    <span class="record-title__text">
                                        <span class="record-title">充值金额</span>
                                        <span class="record-money">300.00</span>
                                        <span>元</span>
                                    </span>
                                    <div class="badge badge--danger">
                                        <div class="badge__text">
                                            出款失败
                                        </div>
                                    </div>
                                </h3>
                                <div id="collapse2" class="record-description">
                                    <div class="record-detail">
                                        <div class="method">
                                            <h5 class="method__title">交易方式</h5>
                                            <p class="method__content">支付宝面对面扫码</p>
                                        </div>
                                        <div class="card-number">
                                            <h5 class="card-number__title">充值卡号：</h5>
                                            <p class="card-number__content">1069******30089</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="record-arrow">
                                    <div class="alert alert-warning">
                                        <div class="alert__img">
                                            <div class="alert__img__icon"></div>
                                        </div>
                                        <div class="alert__text">
                                            如您遇到任何问题，请与客服联系
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="record-cell__item" style="--animation-order: 3">
                            <div class="record-cell__content">
                                <div class="record-header">
                                    <div class="record-header__lf">
                                        <h4 class="record-header-title">DG真人</h4>
                                    </div>
                                    <div class="record-header__rt">
                                        <h4 class="record-header-text">2020年 3月11日 09:52:29</h4>
                                    </div>
                                </div>
                                <h3 class="record-title" data-target="collapse3">
                                    <span class="record-title__text">
                                        <span class="record-title">充值金额</span>
                                        <span class="record-money">300.00</span>
                                        <span>元</span>
                                    </span>
                                    <div class="badge badge--warning">
                                        <div class="badge__text">
                                            处理中…
                                        </div>
                                    </div>
                                </h3>
                                <div id="collapse3" class="record-description">
                                    <div class="record-detail">
                                        <div class="method">
                                            <h5 class="method__title">交易方式</h5>
                                            <p class="method__content">支付宝面对面扫码</p>
                                        </div>
                                        <div class="card-number">
                                            <h5 class="card-number__title">充值卡号：</h5>
                                            <p class="card-number__content">1069******30089</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="record-arrow">
                                    <div class="alert alert-warning">
                                        <div class="alert__img">
                                            <div class="alert__img__icon"></div>
                                        </div>
                                        <div class="alert__text">
                                            如您遇到任何问题，请与客服联系
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- inner-content -->
                    </div>
                </div>
            </div>
        </div>
        <!--layout-tabbar-->
        <div class="layout-tabbar">
            <!-- ./component/footer -->
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
        </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" type="text/javascript"></script>

    <script type="text/javascript" src="js/slick.min.js"></script>
    <script src="js/main.js"></script>

    <script>
        //手風琴
        var collapseSetting = {
            openID: '',
        }
        function bindValue(obj, key, callback) {
            var val = obj[key];
            Object.defineProperty(obj, key, {
                get: function () {
                    return val;
                },
                set: function (value) {
                    val = value;
                    callback(val)
                }
            })
        }
        const collapseList = document.querySelectorAll('.record-cell__item .record-title');
        const collapseArrow = document.querySelectorAll('.record-cell__item .record-arrow');
        const collapseContent = document.querySelectorAll('.record-cell__item .record-description');
        bindValue(collapseSetting, 'openID', function (key) {
            menuClass(key)
        });

        function menuClass(value) {
            const content = document.getElementById(value);
            var setClasses = !content.previousElementSibling.classList.contains('active');
            if (setClasses) {
                openMessage.bind(content)()
                content.previousElementSibling.classList.toggle("active");
                content.parentElement.parentElement.classList.toggle("record-cell__item--open");
                content.style.maxHeight = content.scrollHeight + "px";
            }
        }

        function removeItemHeight() {
            collapseContent.forEach(function (item) {
                item.parentElement.parentElement.classList.remove('record-cell__item--open')
                item.style.maxHeight = null;
            });
            setClass(collapseList, 'remove', 'active');
            setClass(collapseContent, 'remove', 'record-cell__item--open');
        }

        collapseList.forEach(function (item) {
            item.addEventListener('click', function () {
                openMessage.bind(this)()
                const setClasses = !this.classList.contains('active');
                const collapseItem = this.nextElementSibling.parentElement.parentElement;
                removeItemHeight()
                collapseSetting.openID = this.dataset.target;
                if (setClasses) {
                    this.classList.add("active");
                    collapseItem.classList.add("record-cell__item--open");
                    this.nextElementSibling.style.maxHeight = this.nextElementSibling.scrollHeight + "px";
                } else {
                    this.classList.remove("active");
                    collapseItem.classList.remove("record-cell__item--open");
                    this.nextElementSibling.style.maxHeight = null;
                }
            })
        })

        collapseArrow.forEach(function (item) {
            item.addEventListener('click', function () {
                const setClasses = !this.parentElement.classList.contains('active');
                removeItemHeight();
                collapseSetting.openID = this.previousElementSibling.id;
                const content = document.getElementById(this.previousElementSibling.id);
                content.previousElementSibling.classList.remove("active");
                content.parentElement.parentElement.classList.remove("record-cell__item--open");
                content.style.maxHeight = null;
            });
        });

        function setClass(els, fnName, className) {
            for (var i = 0; i < els.length; i++) {
                els[i].classList[fnName](className);
            }
        }
        //信封圖開啟
        var openMessage = function () {
            this.parentElement.parentElement.classList.add('record-cell__item--open');
        }
        //手風琴end//--------------------//--------------------//--------------------//--------------------//

        //show/hide
        function openTab(evt, tabName) {
            // Declare all variables
            var i, tabcontent, tablinks;

            // Get all elements with class="tabcontent" and hide them
            tabcontent = document.getElementsByClassName('mywallet-tab-content');
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = 'none';
            }

            // Get all elements with class="tablinks" and remove the class "active"
            tablinks = document.getElementsByClassName('btn-tab__item');
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(
                    'btn-tab__item--active',
                    ''
                );
            }

            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(tabName).style.display = 'block';
            evt.currentTarget.className += ' btn-tab__item--active';
        }

        function showPopup() {
            var popup = document.getElementById('show');
            if (popup.style.display === 'none') {
                popup.style.display = 'block';
            } else {
                popup.style.display = 'none';
            }
        }
    </script>
</body>

</html>